<div class="main">
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div class="namesMain">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>First name</mat-label>

        <input matInput placeholder="First Name" formControlName="firstName" />
        @if(registrationForm.controls.firstName?.hasError('required') && registrationForm.controls.firstName?.touched) {
        <mat-error> First name is required. </mat-error>

        } @if(registrationForm.controls.firstName?.hasError('minlength') && registrationForm.controls.firstName?.touched) {
        <mat-error> First name must be at least 3 characters long. </mat-error>

        }
      </mat-form-field>

      <mat-form-field class="form-field" appearance="outline">
        <mat-label>Last name</mat-label>
        <input matInput placeholder="Last Name" formControlName="lastName" />
        @if(registrationForm.controls.lastName?.hasError('required') && registrationForm.controls.lastName?.touched) {
        <mat-error> Last name is required. </mat-error>

        } @if(registrationForm.controls.lastName?.hasError('minlength') && registrationForm.controls.lastName?.touched) {
        <mat-error> Last name must be at least 3 characters long. </mat-error>}
      </mat-form-field>
    </div>

    <div class="email">
      <mat-form-field class="email" appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput placeholder="Email" formControlName="emailAddress" />
        @if (registrationForm.controls.emailAddress?.hasError('required') && registrationForm.controls.emailAddress?.touched) {
        <mat-error> Email is required. </mat-error>
        } @if (registrationForm.controls.emailAddress?.hasError('email') && registrationForm.controls.emailAddress?.touched) {
        <mat-error> Please enter a valid email address. </mat-error>
        }
      </mat-form-field>
    </div>

    <div>
      <div class="dob">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Date of Birth</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="dob" placeholder="MM/DD/YYYY" />

          @if(registrationForm.controls.dob.hasError('required') && registrationForm.controls.dob.touched) {
          <mat-error> Date of birth is required. </mat-error>
          }

          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>

    <div class="passwords">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput placeholder="Password" formControlName="password" type="password" />
        @if(registrationForm.controls.password?.hasError('required') && registrationForm.controls.password?.touched) {
        <mat-error> Password is required. </mat-error>
        } @if(registrationForm.controls.password?.hasError('minlength') && registrationForm.controls.password?.touched) {
        <mat-error> Password must be at least 8 characters. </mat-error>
        } @if(registrationForm.controls.password?.hasError('pattern') && registrationForm.controls.password?.touched) {
        <mat-error> Must include 1 uppercase, 1 lowercase, and 1 number. </mat-error>
        }
      </mat-form-field>

      <mat-form-field class="confirmPassword" appearance="outline">
        <mat-label>Confirm password</mat-label>
        <input matInput placeholder="Confirm Password" formControlName="confirmPassword" type="password" />
        @if(registrationForm.controls.confirmPassword?.hasError('required') && registrationForm.controls.confirmPassword?.touched) {
        <mat-error> Confirm password is required. </mat-error>
        } @if(registrationForm.controls.confirmPassword?.hasError('minlength') && registrationForm.controls.confirmPassword?.touched) {
        <mat-error> Confirm password must be at least 8 characters. </mat-error>} @if(registrationForm.controls.confirmPassword?.hasError('mismatch') &&
        registrationForm.controls.confirmPassword?.touched) {
        <mat-error>Passwords do not match.</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="submit-button" [ngClass]="{ 'btn-disabled': !registrationForm.valid, 'btn-enabled': registrationForm.valid }">
      <button mat-raised-button color="primary" type="submit" [disabled]="!registrationForm.valid" [ngClass]="{ 'btn-disabled': !registrationForm.valid }">Submit</button>
    </div>
  </form>
</div>
